(function(t){function e(e){for(var n,o,a=e[0],c=e[1],u=e[2],l=0,p=[];l<a.length;l++)o=a[l],r[o]&&p.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);h&&h(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,a=1;a<i.length;a++){var c=i[a];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var h=c;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("64a9"),r=i.n(n);r.a},"271d":function(t,e,i){"use strict";var n=i("4e92"),r=i.n(n);r.a},"4e92":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._l(50,function(e){return i("div",{key:e},[t._v("hello")])}),i("div",{staticStyle:{background:"#eee",overflow:"hidden"}},[i("opti-image",{attrs:{src:"/assets/cat-2.webp",srcset:"\n           /assets/cat-2.webp 320w,\n           /assets/cat-2.webp 480w,\n           /assets/cat-2.webp 800w",width:"2000"}})],1)],2)},s=[],o={name:"App"},a=o,c=(i("034f"),i("2877")),u=Object(c["a"])(a,r,s,!1,null,null,null),h=u.exports,l=i("fe83");n["a"].use(l["a"]),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(h)},props:{}}).$mount("#app")},"64a9":function(t,e,i){},"9ccd":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("img",{ref:"image",class:{"opti-image":!0,"opti-image-before-load":!t.loaded,"opti-image-loaded":t.loaded,"opti-image-responsive":t.responsive,"opti-image-load-error":t.loadError},style:t.style,attrs:{src:t.shouldDisplay?t.smartSrc:"",srcset:t.shouldDisplay?t.smartSrcset:"",width:t.width,height:t.responsive?"":t.height},on:{load:function(e){t.loaded=!0},error:function(e){t.shouldDisplay&&(t.loadError=!0)}}})},r=[],s=(i("a481"),i("6762"),i("2fdb"),i("aef6"),i("28a5"),{name:"OptiImage",data:function(){return{webpChecked:!1,webpSupported:!1,inViewPortOnce:!1,fileTypeShortCuts:["jpg","gif","png","webp"],loaded:!1,loadError:!1,clientWidth:0}},props:{lazy:{type:Boolean,default:!0},src:{type:String,default:""},fallback:{type:String,default:"jpg"},responsive:{type:Boolean,default:!0},srcset:{type:String,default:""}},computed:{style:function(){var t={};return this.width&&(t.width="".concat(this.width,"px")),this.aspectRatio&&!this.loaded&&(t.height=0,t.paddingTop="".concat(this.aspectRatio,"%")),this.aspectRatio&&this.loaded&&this.responsive&&(t.height="".concat(this.clientWidth*(this.aspectRatio/100),"px")),t},aspectRatio:function(){return this.width&&this.height?this.height/this.width*100:null},isWebP:function(){var t=this.src.split("?")[0];return t.endsWith(".webp")},smartBackup:function(){return this.fileTypeShortCuts.includes(this.fallback)?this.src.replace(/\.webp$/i,".".concat(this.fallback)):this.fallback},smartSrcset:function(){return this.loadError?this.srcOnError:this.webpSupported?this.srcset:this.srcset.replace(/\.webp /gi,".".concat(this.fallback," "))},placeholder:function(){var t=this.fileTypeShortCuts.includes(this.src)?this.src:"jpg",e=this.width||800,i=this.height||600;return"https://via.placeholder.com/".concat(e,"x").concat(i,".").concat(t)},width:function(){return parseInt(this.$attrs.width)||null},height:function(){return parseInt(this.$attrs.height)||null},srcOnError:function(){return this.placeholder+"?text=Image+Not+Found"},usesPlaceholder:function(){return!this.src||this.fileTypeShortCuts.includes(this.src)},smartSrc:function(){return this.loadError?this.srcOnError:this.usesPlaceholder?this.placeholder:!this.isWebP||this.webpSupported?this.src:this.smartBackup},shouldDisplay:function(){return(this.webpChecked||!this.isWebP)&&(this.inViewPortOnce||!this.lazy)}},methods:{checkWebpSupport:function(){return new Promise(function(t,e){var i=new Image;i.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",i.onload=i.onerror=function(){2===i.height?t(!0):e(!1)}})},initImage:function(){var t=this;this.isWebP&&this.checkWebpSupport().then(function(){return new Promise(function(e){t.webpSupported=!0,t.webpChecked=!0,e()})}).catch(function(){t.webpChecked=!0})},inViewport:function(){var t=this.$refs.image,e=t.getBoundingClientRect(),i=e.top,n=e.bottom,r=window.innerHeight||document.documentElement.clientHeight;return(i>0||n>0)&&i<r},initImageWhenInViewport:function(){this.inViewport()&&!this.inViewPortOnce&&(this.inViewPortOnce=!0,this.initImage())},checkInViewport:function(){this.lazy&&(this.initImageWhenInViewport(),window&&window.addEventListener("scroll",this.initImageWhenInViewport))}},mounted:function(){var t=this;this.lazy&&this.checkInViewport(),this.lazy||this.initImage(),this.clientWidth=this.$refs.image.clientWidth,window.addEventListener("resize",function(){t.clientWidth=t.$refs.image.clientWidth})},destroyed:function(){window.removeEventListener("scroll",this.initImageWhenInViewport)}}),o=s,a=(i("271d"),i("2877")),c=Object(a["a"])(o,n,r,!1,null,"fd7e69d0",null);e["a"]=c.exports},fe83:function(t,e,i){"use strict";(function(t){i("7f7f");var n=i("9ccd"),r={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{srcsetSizes:[]};t.component(n["a"].name,n["a"]),t.optiImageSrcsetSizes=e.srcsetSizes}};e["a"]=r;var s=null;"undefined"!==typeof window?s=window.Vue:"undefined"!==typeof t&&(s=t.Vue),s&&s.use(r)}).call(this,i("c8ba"))}});
//# sourceMappingURL=app.671beee1.js.map